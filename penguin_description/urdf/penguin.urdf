<?xml version="1.0"?>
<robot name="penguin">
    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
                <robotNamespace>/penguin</robotNamespace>
                <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
                <!--legacyModeNS>true</legacyModeNS-->
        </plugin>
    </gazebo>
<!--links-->

    <link name="dummy_link">
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </link>
    <link name="base_link">
        <inertial>
            <origin xyz="0.0 0.0 0.007" rpy="0.0 0.0 0.0"/>
            <mass value="0.160"/>
            <inertia ixx="0.0069858" ixy="0.00003788" ixz="-0.000743414" iyy="0.0070844" iyz="-0.00030005" izz="0.0008453"/>
        </inertial>
        <visual name="">
            <origin xyz="0.0 0.0 0.007" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/base.dae" />   
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0095" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.105" length="0.005"/>
            </geometry>
        </collision>
    </link>

    <link name="LW_link">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/wheels.dae" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.0315" length="0.026"/>
            </geometry>
        </collision>
        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.0264"/>
            <inertia ixx="0.000016739" ixy="0.0" ixz="0.0" iyy="0.000016739" iyz="0.0" izz="0.000020597"/>
        </inertial>
    </link>

    <link name="RW_link">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/wheels.dae" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.0315" length="0.026"/>
            </geometry>
        </collision>
        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.0264"/>
            <inertia ixx="0.000016739" ixy="0.0" ixz="0.0" iyy="0.000016739" iyz="0.0" izz="0.000020597"/>
        </inertial>
    </link>

    <link name="TCW_link">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/caster_wheels.dae" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/caster_wheels.dae"/>
            </geometry>
        </collision>
        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.02965"/>
            <inertia ixx="0.00000131067" ixy="0.0" ixz="0.0" iyy="0.00000191824" iyz="0.0" izz="0.00000139735"/>
        </inertial>
    </link>

    <link name="DCW_link">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/caster_wheels.dae" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/caster_wheels.dae"/>
            </geometry>
        </collision>
        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.02965"/>
            <inertia ixx="0.00000131067" ixy="0.0" ixz="0.0" iyy="0.00000191824" iyz="0.0" izz="0.00000139735"/>
        </inertial>
    </link>
    <link name="upper_base_link">
        <visual name="">
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/upper_base.dae"/>
            </geometry>
        </visual>
        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="1.51143"/>
            <inertia ixx="0.172784748" ixy="0.000573265" ixz="-0.01351310072" iyy="0.0174117895" iyz="-0.007081193" izz="0.00756976136"/>
        </inertial>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/upper_base.dae" />
            </geometry>
        </collision>
    </link>
    <link name="kinect_link">
        <visual >
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://penguin_description/models/meshes/kinect.dae" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
  	        <geometry>
  	            <box size="0.07271 0.27794 0.073"/>
  	        </geometry>
  	    </collision>
        <inertial>
            <mass value="0.564" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.003881243" ixy="0.0" ixz="0.0"
                 iyy="0.000498940" iyz="0.0"
                 izz="0.003879257" />
        </inertial>
    </link>

<!--joints-->
    <joint name="dummy_joint" type="fixed">
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="dummy_link"/>
        <child link="base_link"/>
    </joint>
    <joint name="LW_base_joint" type="continuous">
        <origin xyz="0.08 0.003 0.0315" rpy="0.0 0.0 1.5707"/>
        <parent link="base_link"/>
        <child link="LW_link"/>
        <axis xyz="0.0 -1 0.0"/>
    </joint>
    <joint name="RW_base_joint" type="continuous">
        <origin xyz="-0.08 0.003 0.0315" rpy="0.0 0.0 -1.5707"/>
        <parent link="base_link"/>
        <child link="RW_link"/>
        <axis xyz="0.0 1 0.0"/>
    </joint>
    <joint name="TCW_base_joint" type="fixed">
        <origin xyz="0.0 0.092 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="base_link"/>
        <child link="TCW_link"/>
    </joint>
    <joint name="DCW_base_joint" type="fixed">
        <origin xyz="0.0 -0.085 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="base_link"/>
        <child link="DCW_link"/>
    </joint>
    <joint name="upper_base_joint" type="fixed">
        <origin xyz="0.0 0.004 0.005" rpy="0.0 0.0 0.0"/>
        <parent link="base_link"/>
        <child link="upper_base_link"/>
    </joint>
    <joint name="kinect_base_joint" type="fixed">
        <origin xyz="0.0 0.0 0.2" rpy="0.0 0.0 0.0"/>
        <parent link="base_link"/>
        <child link="kinect_link"/>
    </joint>
<!--friction and stiffness-->
      <gazebo reference="WL_link">
	    <mu1>1.0</mu1>
	    <mu2>1.0</mu2>
	    <kp>1000000.0</kp>
	    <kd>100.0</kd>
	    <minDepth>0.001</minDepth>
	    <maxVel>1.0</maxVel>
	  </gazebo>
	
	  <gazebo reference="WR_link">
	    <mu1>1.0</mu1>
	    <mu2>1.0</mu2>
	    <kp>1000000.0</kp>
	    <kd>100.0</kd>
	    <minDepth>0.001</minDepth>
	    <maxVel>1.0</maxVel>
	  </gazebo>
	  
	  <gazebo reference="TCW_link">
	    <mu1>0.0</mu1>
	    <mu2>0.0</mu2>
	    <kp>1000000.0</kp>
	    <kd>100.0</kd>
	    <minDepth>0.001</minDepth>
	    <maxVel>1.0</maxVel>
	  </gazebo>
	  
	  <gazebo reference="DCW_link">
	    <mu1>0.0</mu1>
	    <mu2>0.0</mu2>
	    <kp>1000000.0</kp>
	    <kd>100.0</kd>
	    <minDepth>0.001</minDepth>
	    <maxVel>1.0</maxVel>
	  </gazebo>

<!--transmissions-->
    <transmission name="left_wheel_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="LW_base_joint">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>  
        </joint>
        <actuator name="left_wheel_actuator">
            <mechanicalReduction>7</mechanicalReduction>
            <hardwareInterface>VelocityJointInterface</hardwareInterface>
        </actuator>
    </transmission>
    
    <transmission name="right_wheel_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="RW_base_joint">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>  
        </joint>
        <actuator name="right_wheel_actuator">
            <mechanicalReduction>7</mechanicalReduction>
            <hardwareInterface>VelocityJointInterface</hardwareInterface>
        </actuator>
    </transmission>


</robot>
